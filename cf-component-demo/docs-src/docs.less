/* ==========================================================================
   Capital Framework
   cf-component-demo styling
   ========================================================================== */


@import (reference) "../vendor/cf-core/cf-core.less";
@import "brand-palette.less";

/* Variables
   ========================================================================== */

@base-font-size-px: 16px;
@base-line-height-px: 22px;
@base-line-height: unit(@base-line-height-px / @base-font-size-px);

@code-size: 13px;

@padding: 22px;
@margin: 32px;

@radius: 3px;


/* Mixins
   ========================================================================== */

.clearfix() {
  &:after {
    content: "";
    display: table;
    clear: both;
  }
}

.webfont() {
  font-family: 'Lora', serif;
}

.codefont() {
  font-family: Consolas, Menlo, Monaco, Courier, monospace !important;
}

.rounded-box() {
  padding: unit(@padding / @base-font-size-px, em);
  border-radius: @radius;
  background: @white;
  color: @black;
}

.light-border() {
  border: 1px solid @gray-20;
}


/* Base styles
   ========================================================================== */

body {
  margin: 0;
  padding: 0;
  background: @navy-80;
  color: @white;
}

pre {
  padding: unit(@padding / @code-size, em);
}


/* Masthead
   ========================================================================== */

.docs-masthead {
  margin: 0 0 @padding;
}

.docs-title {
  @font-size: 20px;

  display: inline-block;
  margin: 0;
  color: @white;
  .codefont();
  font-size: unit(@font-size / @base-font-size-px, em);
  font-weight: normal;
}

.docs-icon {
  display: inline-block;
  padding: 2px 4px;
  border-radius: 3px;
  background: @white;
  color: @navy;
  font-weight: bold;
  font-size: unit(16px / 20px, em);
  line-height: 1;
}

.docs-repo {
  @font-size: 14px;
  float: right;
  display: inline-block;
  padding-bottom: 2px;
  .codefont();
  font-size: unit(@font-size / @base-font-size-px, em);
  font-weight: normal;
  line-height: unit(20px / @font-size);
  text-decoration: none;

  .u-link__colors(@white, @white, @white, @white, @white,
                  @navy-20, @navy-20, @white, @white, @navy-20);
  .u-link__border();
  border-bottom-style: dotted;
}


/* Sidebar
   ========================================================================== */

.docs-sidebar-wrapper {
  @width: 220px - @base-font-size-px;

  &_sidebar {
    padding: @padding;
    background: @navy;
  }

  &_body {
    padding: @padding;
  }

  .respond-to-min(768px, {
    box-sizing: border-box;
    position: relative;
    float: left;
    width: 100%;
    border-left: @width solid @navy;

    &_sidebar {
      display: block;
      position: absolute;
      top: 0;
      left: -@width;
      width: @width - (@padding * 2);
      margin: 0;
    }
  });
}


/* Nav
   ========================================================================== */

.docs-nav {
  margin: 0;
  padding: 0;
  list-style-type: none;
}

.docs-nav_item {
  margin: 0;
  padding: 0;
  & + & {
    border-top: 1px dotted @navy-80;
  }
}

.docs-nav_link {
  display: block;
  padding: 10px 0;
  .u-link__colors(@white, @gray-20);
  .codefont();
  font-size: unit(16px / @base-font-size-px, em);
  font-weight: bold;
  line-height: 1;
  text-decoration: none;
  transition: .2s padding-left;
  .u-link__no-border();
  &:hover,
  &:focus {
    padding-left: 10px;
    outline: 1px dotted @gray-20;
  }
}


/* Component
   ========================================================================== */

.docs-component {
  .rounded-box();
  .clearfix();
}

.docs-component_header {
  @font-size: @margin;

  margin: unit((@padding * .5) / @font-size, em) 0 1em;
  color: @neutral;
  .webfont();
  font-size: unit(@font-size / @base-font-size-px, em);
  font-weight: bold;

  span {
    display: inline-block;
    padding-bottom: 1px;
    border-bottom: 3px solid @neutral;
  }
}

.docs-component_intro {
  padding: unit(@padding / @base-font-size-px, em);
  margin: 0 unit(-@padding / @base-font-size-px, em);
  margin-bottom: unit(@margin / @base-font-size-px, em);
  background: @gray-5;
  .light-border();
  border-left: 0;
  border-right: 0;
}

.docs-component + .docs-component {
  margin-top: unit(@padding / @base-font-size-px, em);
}

/* Patterns
   ========================================================================== */

.docs-pattern + .docs-pattern {
  margin-top: unit(@margin / @base-font-size-px, em);
}

.docs-pattern_header {
  @font-size: 18px;

  display: inline-block;
  padding: unit(@padding / @font-size, em);
  margin: 0;
  .light-border();
  border-top-left-radius: @radius;
  border-top-right-radius: @radius;
  background: @white;
  color: @neutral;
  .webfont();
  font-size: unit(@font-size / @base-font-size-px, em);
  font-weight: bold;
  line-height: 1;
}

.docs-pattern_pattern {
  padding: unit(@padding / @base-font-size-px, em);
  margin: -1px 0 0;
  .light-border();
  border-top-right-radius: @radius;
}

.docs-pattern_footer {
  padding: unit(@padding / @base-font-size-px, em);
  margin: -1px 0 0;
  background: @gray-5;
  .light-border();
  border-bottom-left-radius: @radius;
  border-bottom-right-radius: @radius;
}

.docs-pattern_footer .docs-pattern_markup {
  margin:
    unit(-@padding / @code-size, em)
    unit(-@padding / @code-size, em)
    0;
  .light-border();
  border-top: none;
  border-right: none;
  border-left: none;
  border-radius: 0;
  background: transparent;
}

.docs-pattern_footer-edit {
  position: relative;

  + .docs-notes,
  + .docs-codenotes {
    margin-top: unit(@padding / 14, em);
  }
}

.docs-pattern_footer-edit-btn {
  @code-size: 12px;
  position: absolute;
  right: unit(-(@padding + 1) / @code-size, em);
  bottom: 0;
  padding: 0.25em 0.5em;
  .light-border();
  border-top-left-radius: @radius;
  background: @gray-10;
  color: @gray;
  .codefont();
  font-size: @code-size;

  &:focus {
    outline: 1px dotted @black;
    // outline-offset is not supported everywhere but it adds a nice touch
    // in browsers where it is.
    outline-offset: 1px;
  }
}


/* Notes and code
   ========================================================================== */

.docs-code {
  margin: 0;
  background: @gray-5;
  .light-border();
  border-radius: @radius;
  .codefont();
  font-size: @code-size;
}

.docs-notes {
  @font-size: 14px;

  padding-left: unit(@padding / @base-font-size-px, em);
  margin: 0;
  color: @darkgray;
  .webfont();
  font-size: unit(@font-size / @base-font-size-px, em);
  font-style: italic;
  line-height: 1.6;

  & li {
    max-width: unit(535px / @font-size, em);
  }

  & li + li {
    margin-top: 1em;
  }

  .docs-codenotes + & {
    padding:
      unit(@padding / @font-size, em)
      unit(@padding / @font-size, em)
      0
      unit((@padding + @padding) / @font-size, em);
    margin:
      unit(@padding / @font-size, em)
      unit(-@padding / @font-size, em)
      0;
    .light-border();
    border-right: 0;
    border-bottom: 0;
    border-left: 0;
  }
}

.docs-codenotes {
  padding-left: 0;
  margin: 0;
  .codefont();
  list-style-type: none;
}

.docs-codenotes li + li {
  margin-top: 1em;
}

.docs-codenotes .docs-code {
  display: inline-block;
  padding: unit(6px / @code-size, em) unit(10px / @code-size, em);
  background: @white;
  border: 1px solid @gray-50;
}

.docs-pattern_markup + .docs-codenotes,
.docs-pattern_markup + .docs-notes {
  margin-top: unit(@padding / 14px, em);
}
